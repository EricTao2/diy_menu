<view class="order-card" wx:if="{{orderView}}" bindtap="onCardTap" data-order-id="{{orderView.id}}">
  <view class="order-header">
    <view>
      <text class="order-no">{{orderView.orderNo}}</text>
      <text class="order-time">{{orderView.createdAtText}}</text>
    </view>
    <order-status-tag status="{{orderView.status}}" text="{{statusText}}"></order-status-tag>
  </view>
  <view class="order-items">
    <block wx:for="{{orderView.items}}" wx:key="dishId" wx:for-item="orderItem">
      <view class="order-item-row">
        <text class="item-name">{{orderItem.name}} × {{orderItem.quantity}}</text>
        <text class="item-price">¥{{orderItem.totalPriceText}}</text>
      </view>
      <view class="item-options" wx:if="{{orderItem.optionsArray.length}}">
        <block wx:for="{{orderItem.optionsArray}}" wx:key="text" wx:for-item="option">
          <text class="option-text">{{option.text}}</text>
        </block>
      </view>
    </block>
  </view>
  <view class="order-footer">
    <text class="order-total">¥{{orderView.totalPriceText}}</text>
    <view class="order-actions">
      <block wx:if="{{showActions}}">
        <button class="secondary" wx:if="{{secondaryActionText}}" data-action="secondary" bindtap="onActionTap">{{secondaryActionText}}</button>
        <button class="primary" wx:if="{{actionText}}" data-action="primary" bindtap="onActionTap">{{actionText}}</button>
      </block>
    </view>
  </view>
</view>
