<view class="page">
  <view class="form">
    <view class="form-item">
      <text class="form-label required">原材料名称</text>
      <input
        class="form-input"
        type="text"
        placeholder="请输入原材料名称"
        value="{{name}}"
        bindinput="onNameInput"
        maxlength="50"
      />
    </view>

    <view class="form-item">
      <text class="form-label required">单位</text>
      <input
        class="form-input"
        type="text"
        placeholder="请输入单位（如：克、个、份）"
        value="{{unit}}"
        bindinput="onUnitInput"
        maxlength="10"
      />
    </view>

    <view class="form-item">
      <text class="form-label">图片</text>
      <view class="image-upload" bindtap="onChooseImage">
        <image
          wx:if="{{image}}"
          class="preview-image"
          src="{{image}}"
          mode="aspectFill"
        />
        <view wx:else class="upload-placeholder">
          <text class="upload-icon">+</text>
          <text class="upload-text">{{uploading ? '上传中...' : '点击上传图片'}}</text>
        </view>
      </view>
    </view>

    <view class="form-item">
      <text class="form-label">备注</text>
      <textarea
        class="form-textarea"
        placeholder="备注（选填）"
        value="{{remark}}"
        bindinput="onRemarkInput"
        maxlength="100"
        auto-height
      />
    </view>
  </view>

  <view class="footer">
    <button
      wx:if="{{isEdit}}"
      class="btn btn-delete"
      bindtap="onDelete"
    >删除</button>
    <button
      class="btn btn-save"
      loading="{{saving}}"
      bindtap="onSave"
    >{{isEdit ? '保存' : '创建'}}</button>
  </view>
</view>
